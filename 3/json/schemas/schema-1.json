{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "definitions": {
        "Person": {
            "type": "object",
            "properties": {
                "name": { "type": "string" },
                "surname": { "type": "string" },
                "middlenames": { "type": "array", "items": { "type": "string" } },
                "id": { "type": "string" }
            },
            "required": ["name", "surname", "id"]
        },
        "Occupant": {
            "allOf": [
                { "$ref": "#/definitions/Person" },
                {
                    "type": "object",
                    "properties": {
                        "date_from": { "type": "string", "format": "date" },
                        "unpaid_fees": { "type": "boolean" }
                    },
                    "required": ["date_from", "unpaid_fees"]
                }
            ]
        },
        "Mayor": {
            "allOf": [
                { "$ref": "#/definitions/Person" },
                {
                    "type": "object",
                    "properties": {
                        "dateFrom": { "type": "string", "format": "date" },
                        "until": { "type": "string", "format": "date" }
                    }
                }
            ]
        },
        "House": {
            "type": "object",
            "properties": {
                "number": { "type": "integer", "minimum": 1 },
                "colour": { "type": "string", "pattern": "^[0-9A-Fa-f]{6}$" },
                "area": { "type": "number", "minimum": 0 },
                "occupants": { "type": "array", "items": { "$ref": "#/definitions/Occupant" } },
                "id": { "type": "string" }
            },
            "required": ["number", "colour", "area", "id"]
        },
        "Street": {
            "type": "object",
            "properties": {
                "name": { "type": "string" },
                "sidewalk": { "type": "boolean" },
                "houses": { "type": "array", "items": { "$ref": "#/definitions/House" } },
                "id": { "type": "string" }
            },
            "required": ["name", "sidewalk", "id"]
        },
        "Town": {
            "type": "object",
            "properties": {
                "townName": { "type": "string" },
                "hasFlag": { "type": "boolean" },
                "hasBroadcast": { "type": "boolean" },
                "streets": { "type": "array", "items": { "$ref": "#/definitions/Street" } },
                "mayors": { "type": "array", "items": { "$ref": "#/